<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			* {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			h5 {
				width: 200px;
				background: gray;
				cursor: pointer;
			}
			p {
				width: 200px;
				/*
					wrap元素的高度是0
				*/
				height: 0;
				overflow: hidden;
				border: 1px solid red;
				/*
					添加过渡效果
				*/
				transition: height .3s;
			}
			span {
				/*
					content元素的高度需要指定,此时的content高度，就是wrap的scrollHeight
				*/
				display: block;
				height: 500px;
			}
		</style>
	</head>

	<body>
		<ul>
			<li>
				<h5 class="head">标题1</h5>
				<p class="wrap">
					<span class="content">
						内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容
					</span>
				</p>
			</li>
			<li>
				<h5 class="head">标题2</h5>
				<p class="wrap">
					<span class="content">
						内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容
					</span>
				</p>
			</li>
			<li>
				<h5 class="head">标题3</h5>
				<p class="wrap">
					<span class="content">
						内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容
					</span>
				</p>
			</li>
		</ul>
		<script>
			var heads = document.querySelectorAll('.head');
			var wraps = document.querySelectorAll('.wrap');
			// 内容高度 存在，容器高度为0；此时容器的scrollHeight就是内容应该有的高度
			console.log(wraps[1].scrollHeight)
			for(let i = 0; i < heads.length; i++) {
				heads[i].onclick = function() {
					for(let j = 0; j < wraps.length; j++) {
						if(i == j) {
							console.log(wraps[j].scrollHeight)
							wraps[j].style.height = wraps[j].scrollHeight + 'px';
						} else {
							wraps[j].style.height = 0;
						}
					}
				}
			}
		</script>
	</body>

</html>